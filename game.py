import requests
import json
import random

from requests.utils import stream_decode_response_unicode
from xunfei_tts import text_to_speech 

def call_zhipu_api(messages, model="glm-4-flash"):
    url = "https://open.bigmodel.cn/api/paas/v4/chat/completions"

    headers = {
        "Authorization": "1732aa9845ec4ce09dca7cd10e02d209.dA36k1HPTnFk7cLU",
        "Content-Type": "application/json"
    }

    data = {
        "model": model,
        "messages": messages,
        "temperature": 0.5   # æ¸©åº¦ï¼Œ0.5è¡¨ç¤ºä¸­åº¸ï¼Œ0è¡¨ç¤ºæœ€ä¿å®ˆï¼Œ1è¡¨ç¤ºæœ€æ¿€è¿›
    }

    response = requests.post(url, headers=headers, json=data)

    if response.status_code == 200:
        return response.json()
    else:
        raise Exception(f"APIè°ƒç”¨å¤±è´¥: {response.status_code}, {response.text}")

# æ¸¸æˆè®¾ç½®
role_system = ["A", "B","C","D","E"]
current_role = random.choice(role_system)

# ç³»ç»Ÿæç¤ºè¯
game_system = f"""ä½ æ­£åœ¨ç©"è°æ˜¯ä¸å­˜åœ¨çš„äºº"æ¸¸æˆã€‚ä¸å­˜åœ¨çš„äººæ˜¯ï¼š{current_role}

æ¸¸æˆè§„åˆ™ï¼š
1.äº”ä¸ªè§’è‰²ABCDEä¸­æœ‰ä¸€ä¸ªæ˜¯ä¸å­˜åœ¨çš„äºº
2.æ¯è½®æå‡ºä¸€ä¸ªé—®é¢˜ï¼Œäº”ä¸ªè§’è‰²åˆ†åˆ«å›ç­”
3.ä¸å­˜åœ¨çš„äººä¼šåœ¨æŸäº›é—®é¢˜ä¸Šç»™å‡ºçŸ›ç›¾çš„ç­”æ¡ˆ
4.åœ¨äº”è½®å†…æ­£ç¡®æŒ‡è®¤ä¸å­˜åœ¨çš„äººèƒœåˆ©
5.æŒ‡è®¤é”™è¯¯æˆ–äº”è½®ç»“æŸæœªæŒ‡è®¤å¤±è´¥

æ¸¸æˆèƒŒæ™¯ï¼šæˆ‘å‘ç°ç”Ÿæ—¥æ´¾å¯¹çš„è®°å¿†é‡Œå‡ºç°äº†ä¸€ä¸ªä¸å­˜åœ¨çš„äººï¼Œä½†æ˜¯æˆ‘ä¸æ¸…æ¥šä»–æ˜¯å“ªä¸€ä¸ª
ç°åœ¨å¼€å§‹æ¸¸æˆï¼Œç”¨æˆ·ä¼šå¼€å§‹æé—®ã€‚ä¸å­˜åœ¨çš„äººè¦å°½åŠ›éšè—è‡ªå·±ã€‚æ¸¸æˆå¼€å§‹å‰ä»‹ç»æ¸¸æˆèƒŒæ™¯å’Œè§„åˆ™"""

import random
import sys

class MemoryGame:
    def __init__(self):
        self.characters = ['A', 'B', 'C', 'D', 'E']
        self.fake_character = random.choice(self.characters)
        self.rounds = 0
        self.max_rounds = 5
        self.game_over = False
        
        # é¢„è®¾æ´¾å¯¹äº‹å®
        self.party_facts = {
            'è›‹ç³•': {
                'type': 'å·§å…‹åŠ›è›‹ç³•',
                'decoration': 'è“è‰²ç³–éœœå’Œå½©è‰²ç³–ç²’',
                'candles': 10
            },
            'æ¸¸æˆ': ['æ‰è¿·è—', 'ä¼ æ°”çƒ', 'çŒœè°œè¯­'],
            'ç¤¼ç‰©': {
                'A': 'æ¸¸æˆæœº',
                'B': 'æ¼«ç”»ä¹¦å…¨é›†', 
                'C': 'é¥æ§æœºå™¨äºº',
                'D': 'æ‰‹å·¥ç›¸å†Œ',
                'E': 'æ–°è¶³çƒ'
            },
            'æ—¶é—´': 'ä¸‹åˆ3ç‚¹å¼€å§‹',
            'åœ°ç‚¹': 'æˆ‘å®¶å®¢å…',
            'å®¢äººæ•°é‡': 5,
            'è£…é¥°': 'è“è‰²å’Œé“¶è‰²æ°”çƒï¼Œè¿˜æœ‰å½©å¸¦',
            'éŸ³ä¹': 'å½“æ—¶æµè¡Œçš„æµè¡Œæ­Œæ›²',
            'ç‰¹æ®Šäº‹ä»¶': 'ä¸­é€”åœç”µäº†å¤§æ¦‚10åˆ†é’Ÿ',
            'é£Ÿç‰©': ['è–¯ç‰‡', 'æ©™æ±', 'ç³–æœ', 'å°é¥¼å¹²']
        }
        
        # æ¯ä¸ªè§’è‰²çš„ä¸ªæ€§ç‰¹å¾
        self.character_traits = {
            'A': 'æ´»æ³¼å¼€æœ—ï¼Œå–œæ¬¢å¼€ç©ç¬‘ï¼Œè¯´è¯æ¯”è¾ƒéšæ„',
            'B': 'ç»†å¿ƒè§‚å¯Ÿï¼Œè®°å¿†åŠ›å¥½ï¼Œå–œæ¬¢æè¿°ç»†èŠ‚', 
            'C': 'å†…å‘å®³ç¾ï¼Œè¯´è¯ç®€çŸ­ï¼Œä¸å¤ªçˆ±è¡¨è¾¾',
            'D': 'å–œæ¬¢ç»†èŠ‚ï¼Œæè¿°å…·ä½“ï¼Œæœ‰ç‚¹å®Œç¾ä¸»ä¹‰',
            'E': 'éšå’Œå‹å–„ï¼Œè¯´è¯æ¸©å’Œï¼Œæ³¨é‡æ„Ÿå—'
        }
        
        # å­˜å‚¨æ¯ä¸ªè§’è‰²çš„å›ç­”
        self.answers = {char: [] for char in self.characters}
        
        # å»ºè®®æé—®æ–¹å‘
        self.suggested_questions = [
            "å…³äºæ´¾å¯¹ä¸Šçš„é£Ÿç‰©å’Œé¥®æ–™",
            "å…³äºæ´¾å¯¹çš„æ¸¸æˆå’Œæ´»åŠ¨", 
            "å…³äºæ”¶åˆ°çš„ç¤¼ç‰©",
            "å…³äºæ´¾å¯¹çš„è£…é¥°å’Œç¯å¢ƒ",
            "å…³äºæ´¾å¯¹çš„å¼€å§‹å’Œç»“æŸæ—¶é—´",
            "å…³äºç‰¹æ®Šäº‹ä»¶æˆ–æ„å¤–æƒ…å†µ",
            "å…³äºå‚åŠ æ´¾å¯¹çš„äºº",
            "å…³äºæ´¾å¯¹çš„éŸ³ä¹å’Œæ°›å›´"
        ]
    
    def get_character_answer(self, character, question_keyword):
        """æ ¹æ®è§’è‰²å’Œé—®é¢˜å…³é”®è¯ç”Ÿæˆå›ç­”"""
        
        if character == self.fake_character:
            # ä¸å­˜åœ¨çš„äººä¼šç»™å‡ºä¸ä¸€è‡´æˆ–æ¨¡ç³Šçš„å›ç­”
            return self.get_fake_answer(question_keyword)
        else:
            # çœŸå®çš„äººä¼šç»™å‡ºç¬¦åˆäº‹å®ä½†æœ‰ä¸ªäººé£æ ¼çš„å›ç­”
            return self.get_real_answer(character, question_keyword)
    
    def get_real_answer(self, character, question_keyword):
        """çœŸå®è§’è‰²çš„å›ç­” - åŸºäºäº‹å®ä½†æœ‰ä¸ªäººé£æ ¼å’Œè®°å¿†åå·®"""
        if 'é£Ÿç‰©' in question_keyword or 'è›‹ç³•' in question_keyword or 'é¥®æ–™' in question_keyword:
            if character == 'A':
                answers = [
                    f"æˆ‘è®°å¾—æ˜¯{self.party_facts['è›‹ç³•']['type']}ï¼Œä½†ä¸Šé¢çš„è£…é¥°è®°ä¸å¤ªæ¸…äº†ï¼Œå½“æ—¶åªæƒ³ç€èµ¶ç´§åƒå®Œå»æ‹†ç¤¼ç‰©",
                    f"è›‹ç³•æ˜¯{self.party_facts['è›‹ç³•']['type']}ï¼Œå‘³é“ä¸é”™ï¼Œæˆ‘åƒäº†ä¸¤å¤§å—",
                    f"é™¤äº†è›‹ç³•è¿˜æœ‰{self.party_facts['é£Ÿç‰©'][0]}å’Œ{self.party_facts['é£Ÿç‰©'][1]}ï¼Œé¥®æ–™å¥½åƒæ˜¯{self.party_facts['é£Ÿç‰©'][1]}"
                ]
            elif character == 'B':
                answers = [
                    f"è›‹ç³•æ˜¯{self.party_facts['è›‹ç³•']['type']}ï¼Œä¸Šé¢æœ‰{self.party_facts['è›‹ç³•']['decoration']}ï¼Œæ’äº†{self.party_facts['è›‹ç³•']['candles']}æ ¹èœ¡çƒ›",
                    f"é£Ÿç‰©æœ‰{self.party_facts['è›‹ç³•']['type']}ã€{self.party_facts['é£Ÿç‰©'][0]}ã€{self.party_facts['é£Ÿç‰©'][1]}å’Œ{self.party_facts['é£Ÿç‰©'][3]}ï¼Œæ‘†æ”¾å¾—å¾ˆæ•´é½",
                    f"é¥®æ–™ä¸»è¦æ˜¯{self.party_facts['é£Ÿç‰©'][1]}ï¼Œæˆ‘è®°å¾—æ˜¯å› ä¸ºæˆ‘ä¸å¤ªå–œæ¬¢å–ï¼Œæ‰€ä»¥è®°å¾—ç‰¹åˆ«æ¸…æ¥š"
                ]
            elif character == 'C':
                answers = [
                    f"{self.party_facts['è›‹ç³•']['type']}ï¼Œå¾ˆå¥½åƒ",
                    f"æœ‰è›‹ç³•å’Œé›¶é£Ÿï¼Œæˆ‘åƒäº†ç‚¹{self.party_facts['é£Ÿç‰©'][3]}",
                    f"è›‹ç³•å‘³é“ä¸é”™ï¼Œä½†æˆ‘è®°ä¸æ¸…å…·ä½“ä»€ä¹ˆæ ·äº†"
                ]
            elif character == 'D':
                answers = [
                    f"æ˜¯{self.party_facts['è›‹ç³•']['type']}ï¼Œä¸Šé¢æœ‰{self.party_facts['è›‹ç³•']['decoration']}ï¼Œæ’äº†{self.party_facts['è›‹ç³•']['candles']}æ ¹èœ¡çƒ›ï¼Œæ‘†ç›˜å¾ˆæ¼‚äº®",
                    f"é£Ÿç‰©æœ‰{self.party_facts['è›‹ç³•']['type']}ã€{', '.join(self.party_facts['é£Ÿç‰©'])}ï¼Œé¥®æ–™æ˜¯{self.party_facts['é£Ÿç‰©'][1]}ï¼Œæ”¾åœ¨ä¸€ä¸ªè“è‰²çš„é¥®æ–™æœºé‡Œ",
                    f"è›‹ç³•çš„{self.party_facts['è›‹ç³•']['decoration']}å¾ˆç²¾è‡´ï¼Œæˆ‘è®°å¾—å› ä¸ºæœ‰äººä¸å°å¿ƒç¢°æ‰äº†ä¸€ç‚¹ç³–éœœ"
                ]
            else:  # E
                answers = [
                    f"æˆ‘è®°å¾—æ˜¯{self.party_facts['è›‹ç³•']['type']}ï¼Œå¤§å®¶éƒ½å¾ˆå–œæ¬¢",
                    f"è›‹ç³•ä¸é”™ï¼Œè¿˜æœ‰å„ç§é›¶é£Ÿï¼Œ{self.party_facts['é£Ÿç‰©'][0]}ç‰¹åˆ«å—æ¬¢è¿ï¼Œå¾ˆå¿«å°±åƒå®Œäº†",
                    f"{self.party_facts['è›‹ç³•']['type']}ï¼Œå¤§å®¶éƒ½è¯´å¥½åƒï¼Œå°¤å…¶æ˜¯ä¸Šé¢çš„ç³–éœœ"
                ]
                
        elif 'æ¸¸æˆ' in question_keyword or 'æ´»åŠ¨' in question_keyword:
            if character == 'A':
                answers = [
                    f"æˆ‘ä»¬ç©äº†{self.party_facts['æ¸¸æˆ'][0]}å’Œ{self.party_facts['æ¸¸æˆ'][1]}ï¼Œæˆ‘èº²åœ¨è¡£æŸœé‡Œï¼Œå·®ç‚¹è¢«é—·åˆ°",
                    f"å…ˆæ˜¯{self.party_facts['æ¸¸æˆ'][0]}ï¼Œç„¶åæ˜¯{self.party_facts['æ¸¸æˆ'][1]}ï¼Œ{self.party_facts['æ¸¸æˆ'][1]}æ—¶æ°”çƒåœ¨Cé‚£é‡Œç ´äº†ï¼Œå“äº†å¤§å®¶ä¸€è·³",
                    f"{self.party_facts['æ¸¸æˆ'][0]}æ—¶æˆ‘èº²åœ¨è¡£æŸœé‡Œï¼Œåæ¥è¿˜ç©äº†{self.party_facts['æ¸¸æˆ'][2]}ï¼Œä½†æˆ‘ä¸å¤ªè®°å¾—å…·ä½“æ€ä¹ˆç©çš„äº†"
                ]
            elif character == 'B':
                answers = [
                    f"æ¸¸æˆæœ‰{self.party_facts['æ¸¸æˆ'][0]}ã€{self.party_facts['æ¸¸æˆ'][1]}å’Œ{self.party_facts['æ¸¸æˆ'][2]}ï¼Œ{self.party_facts['æ¸¸æˆ'][0]}æ—¶æˆ‘èº²åœ¨çª—å¸˜åé¢",
                    f"æˆ‘ä»¬ç©äº†{self.party_facts['æ¸¸æˆ'][0]}ï¼Œæˆ‘èº²åœ¨çª—å¸˜åé¢ï¼Œå·®ç‚¹è¢«Dæ‰¾åˆ°ï¼›ç„¶åæ˜¯{self.party_facts['æ¸¸æˆ'][1]}ï¼Œæ°”çƒåœ¨Cé‚£é‡Œç ´äº†",
                    f"{self.party_facts['æ¸¸æˆ'][1]}æ—¶æ°”çƒåœ¨Cé‚£é‡Œç ´äº†ï¼Œå¤§å®¶éƒ½ç¬‘äº†ï¼Œç„¶åæˆ‘ä»¬è¿˜ç©äº†{self.party_facts['æ¸¸æˆ'][2]}ï¼Œä½†æˆ‘ä¸å¤ªè®°å¾—è°œè¯­æ˜¯ä»€ä¹ˆäº†"
                ]
            elif character == 'C':
                answers = [
                    f"{self.party_facts['æ¸¸æˆ'][0]}å’Œ{self.party_facts['æ¸¸æˆ'][1]}ï¼Œ{self.party_facts['æ¸¸æˆ'][1]}æ—¶æ°”çƒåœ¨æˆ‘è¿™é‡Œç ´äº†",
                    f"ç©äº†å‡ ä¸ªæ¸¸æˆï¼Œæˆ‘æœ‰ç‚¹å®³ç¾ï¼Œæ‰€ä»¥è®°å¾—ä¸å¤ªæ¸…æ¥š",
                    f"æ¸¸æˆå¾ˆæœ‰è¶£ï¼Œç‰¹åˆ«æ˜¯{self.party_facts['æ¸¸æˆ'][1]}ï¼Œè™½ç„¶æ°”çƒåœ¨æˆ‘è¿™é‡Œç ´äº†"
                ]
            elif character == 'D':
                answers = [
                    f"æˆ‘ä»¬ç©äº†{self.party_facts['æ¸¸æˆ'][0]}ï¼Œç„¶åç©äº†{self.party_facts['æ¸¸æˆ'][1]}ï¼Œæœ€åæ˜¯{self.party_facts['æ¸¸æˆ'][2]}ï¼Œæ¯ä¸ªæ¸¸æˆå¤§æ¦‚ç©äº†20åˆ†é’Ÿ",
                    f"{self.party_facts['æ¸¸æˆ'][0]}æ—¶Aèº²åœ¨è¡£æŸœé‡Œï¼ŒBèº²åœ¨çª—å¸˜åé¢ï¼Œæˆ‘æ‰¾äº†å¾ˆä¹…æ‰æ‰¾åˆ°ä»–ä»¬ï¼›{self.party_facts['æ¸¸æˆ'][1]}æ—¶æ°”çƒåœ¨Cé‚£é‡Œç ´äº†",
                    f"æ¸¸æˆåŒ…æ‹¬{self.party_facts['æ¸¸æˆ'][0]}ã€{self.party_facts['æ¸¸æˆ'][1]}å’Œ{self.party_facts['æ¸¸æˆ'][2]}ï¼Œ{self.party_facts['æ¸¸æˆ'][2]}çš„è°œè¯­æœ‰ç‚¹éš¾ï¼Œæˆ‘ä¸å¤ªè®°å¾—ç­”æ¡ˆäº†"
                ]
            else:  # E
                answers = [
                    f"è®°å¾—ç©äº†{self.party_facts['æ¸¸æˆ'][0]}å’Œ{self.party_facts['æ¸¸æˆ'][1]}ï¼Œå¤§å®¶éƒ½å¾ˆå¼€å¿ƒ",
                    f"æ¸¸æˆå¾ˆå¥½ç©ï¼Œç‰¹åˆ«æ˜¯{self.party_facts['æ¸¸æˆ'][1]}ï¼Œè™½ç„¶æ°”çƒç ´äº†æœ‰ç‚¹å¯æƒœ",
                    f"æˆ‘ä»¬ç©äº†å‡ ä¸ªæ¸¸æˆï¼Œ{self.party_facts['æ¸¸æˆ'][0]}æ—¶æˆ‘æ‰¾äº†å¾ˆä¹…æ‰æ‰¾åˆ°æ‰€æœ‰äººï¼Œ{self.party_facts['æ¸¸æˆ'][1]}æ—¶æ°”çƒåœ¨Cé‚£é‡Œç ´äº†ï¼Œå¤§å®¶éƒ½ç¬‘äº†"
                ]
                
        elif 'ç¤¼ç‰©' in question_keyword:
            if character == 'A':
                answers = [
                    f"ä½ æ”¶åˆ°äº†{self.party_facts['ç¤¼ç‰©']['A']}å’Œ{self.party_facts['ç¤¼ç‰©']['B']}ï¼Œè¿˜æœ‰å‡ ä¸ªå…¶ä»–çš„ï¼Œä½†æˆ‘è®°ä¸å¤ªæ¸…äº†",
                    f"ç¤¼ç‰©æœ‰{self.party_facts['ç¤¼ç‰©']['A']}ã€{self.party_facts['ç¤¼ç‰©']['B']}å’Œ{self.party_facts['ç¤¼ç‰©']['C']}ï¼Œä½ å¥½åƒæœ€å–œæ¬¢{self.party_facts['ç¤¼ç‰©']['A']}",
                    f"æˆ‘æœ€å–œæ¬¢{self.party_facts['ç¤¼ç‰©']['C']}è¿™ä¸ªç¤¼ç‰©ï¼Œå› ä¸ºå®ƒä¼šåŠ¨ï¼Œä½†æˆ‘ä¸è®°å¾—æ˜¯è°é€çš„äº†"
                ]
            elif character == 'B':
                answers = [
                    f"ç¤¼ç‰©åŒ…æ‹¬{self.party_facts['ç¤¼ç‰©']['A']}ã€{self.party_facts['ç¤¼ç‰©']['B']}ã€{self.party_facts['ç¤¼ç‰©']['C']}ã€{self.party_facts['ç¤¼ç‰©']['D']}å’Œ{self.party_facts['ç¤¼ç‰©']['E']}ï¼Œéƒ½åŒ…è£…å¾—å¾ˆæ¼‚äº®",
                    f"{self.party_facts['ç¤¼ç‰©']['A']}æ˜¯ä½ å¦ˆå¦ˆé€çš„ï¼ŒåŒ…è£…æ˜¯è“è‰²çš„ï¼›{self.party_facts['ç¤¼ç‰©']['B']}æ˜¯æˆ‘é€çš„",
                    f"ç¤¼ç‰©éƒ½æ”¾åœ¨å®¢å…çš„æ¡Œå­ä¸Šï¼Œæ‘†æˆä¸€æ’ï¼Œ{self.party_facts['ç¤¼ç‰©']['C']}çš„ç›’å­æœ€å¤§"
                ]
            elif character == 'C':
                answers = [
                    f"æœ‰å¾ˆå¤šç¤¼ç‰©ï¼Œä½ æ‹†äº†å¾ˆä¹…",
                    f"ä½ æ”¶åˆ°äº†{self.party_facts['ç¤¼ç‰©']['A']}å’Œ{self.party_facts['ç¤¼ç‰©']['B']}ï¼Œè¿˜æœ‰æˆ‘é€çš„{self.party_facts['ç¤¼ç‰©']['C']}",
                    f"ç¤¼ç‰©å¾ˆæ£’ï¼Œä½ æ‹†ç¤¼ç‰©æ—¶å¾ˆå¼€å¿ƒ"
                ]
            elif character == 'D':
                answers = [
                    f"ä½ æ”¶åˆ°äº†{self.party_facts['ç¤¼ç‰©']['A']}ã€{self.party_facts['ç¤¼ç‰©']['B']}ã€{self.party_facts['ç¤¼ç‰©']['C']}ã€{self.party_facts['ç¤¼ç‰©']['D']}å’Œ{self.party_facts['ç¤¼ç‰©']['E']}ï¼Œ{self.party_facts['ç¤¼ç‰©']['A']}æ˜¯æœ€è´µçš„ï¼Œ{self.party_facts['ç¤¼ç‰©']['D']}æ˜¯æˆ‘äº²æ‰‹åšçš„",
                    f"ç¤¼ç‰©ä¸­{self.party_facts['ç¤¼ç‰©']['A']}æ˜¯ä½ å¦ˆå¦ˆé€çš„ï¼ŒåŒ…è£…æ˜¯è“è‰²çš„å¸¦æ˜Ÿæ˜Ÿå›¾æ¡ˆï¼›{self.party_facts['ç¤¼ç‰©']['B']}æ˜¯Bé€çš„ï¼ŒåŒ…è£…çº¸æ˜¯è¶…çº§è‹±é›„çš„ï¼›{self.party_facts['ç¤¼ç‰©']['C']}æ˜¯Cé€çš„ï¼Œç›’å­å¾ˆå¤§ï¼›{self.party_facts['ç¤¼ç‰©']['D']}æ˜¯æˆ‘é€çš„ç›¸å†Œï¼›{self.party_facts['ç¤¼ç‰©']['E']}æ˜¯Eé€çš„",
                    f"æ‰€æœ‰ç¤¼ç‰©éƒ½å¾ˆæœ‰å¿ƒæ„ï¼Œä½ æ‹†{self.party_facts['ç¤¼ç‰©']['D']}æ—¶ç‰¹åˆ«æ„ŸåŠ¨ï¼Œå› ä¸ºé‚£æ˜¯æˆ‘èŠ±äº†å¾ˆå¤šæ—¶é—´åšçš„ç›¸å†Œ"
                ]
            else:  # E
                answers = [
                    f"ç¤¼ç‰©å¾ˆå¤šï¼Œæœ‰{self.party_facts['ç¤¼ç‰©']['A']}ã€{self.party_facts['ç¤¼ç‰©']['B']}ç­‰ï¼Œæˆ‘é€çš„æ˜¯{self.party_facts['ç¤¼ç‰©']['E']}",
                    f"ä½ å¥½åƒæœ€å–œæ¬¢{self.party_facts['ç¤¼ç‰©']['C']}ï¼Œç©äº†å¥½ä¹…",
                    f"æ‹†ç¤¼ç‰©æ—¶å¤§å®¶éƒ½å¾ˆå…´å¥‹ï¼Œä½ æ¯æ‹†ä¸€ä¸ªç¤¼ç‰©éƒ½ä¼šç»™å¤§å®¶çœ‹ï¼Œ{self.party_facts['ç¤¼ç‰©']['A']}å’Œ{self.party_facts['ç¤¼ç‰©']['C']}æœ€å—æ¬¢è¿"
                ]
                
        elif 'æ—¶é—´' in question_keyword:
            if character == 'A':
                answers = [
                    f"æ´¾å¯¹æ˜¯{self.party_facts['æ—¶é—´']}å¼€å§‹çš„ï¼Œä½†æˆ‘è¿Ÿåˆ°äº†å‡ åˆ†é’Ÿï¼Œæ‰€ä»¥ä¸å¤ªç¡®å®š",
                    f"å¤§æ¦‚æ˜¯{self.party_facts['æ—¶é—´']}å¼€å§‹çš„å§ï¼Œæˆ‘è®°ä¸å¤ªæ¸…äº†ï¼Œå› ä¸ºå½“æ—¶åœ¨ç©æ¸¸æˆæ²¡æ³¨æ„æ—¶é—´",
                    f"æˆ‘ä»¬{self.party_facts['æ—¶é—´']}åˆ°çš„ï¼Œç©äº†å¤§æ¦‚3ä¸ªå°æ—¶ï¼Œèµ°çš„æ—¶å€™å¤©éƒ½å¿«é»‘äº†"
                ]
            elif character == 'B':
                answers = [
                    f"æ´¾å¯¹æ˜¯{self.party_facts['æ—¶é—´']}å‡†æ—¶å¼€å§‹çš„ï¼Œå› ä¸ºæˆ‘è®°å¾—æˆ‘åˆ°çš„æ—¶å€™åˆšå¥½ä¸‰ç‚¹",
                    f"å¤§æ¦‚{self.party_facts['æ—¶é—´']}å¼€å§‹çš„ï¼Œæˆ‘ä»¬ç©äº†å·®ä¸å¤š3ä¸ªå°æ—¶ï¼Œç»“æŸçš„æ—¶å€™æ˜¯å…­ç‚¹å·¦å³",
                    f"æˆ‘ä»¬{self.party_facts['æ—¶é—´']}åˆ°çš„ï¼Œæˆ‘æ˜¯ç¬¬ä¸€ä¸ªåˆ°çš„ï¼Œæ‰€ä»¥è®°å¾—å¾ˆæ¸…æ¥š"
                ]
            elif character == 'C':
                answers = [
                    f"{self.party_facts['æ—¶é—´']}å¼€å§‹çš„",
                    f"ä¸‹åˆå¼€å§‹çš„ï¼Œå…·ä½“æ—¶é—´è®°ä¸æ¸…äº†",
                    f"ç©äº†æŒºä¹…çš„ï¼Œä½†å…·ä½“å¤šä¹…æˆ‘ä¸è®°å¾—äº†"
                ]
            elif character == 'D':
                answers = [
                    f"æ´¾å¯¹æ˜¯{self.party_facts['æ—¶é—´']}å¼€å§‹çš„ï¼Œå› ä¸ºæˆ‘å¦ˆå¦ˆæé†’æˆ‘è¦å‡†æ—¶åˆ°",
                    f"æˆ‘ä»¬{self.party_facts['æ—¶é—´']}åˆ°çš„ï¼Œç©äº†æ•´æ•´3ä¸ªå°æ—¶ï¼Œ{self.party_facts['æ—¶é—´']}å¼€å§‹ï¼Œå…­ç‚¹ç»“æŸ",
                    f"æ—¶é—´æ˜¯{self.party_facts['æ—¶é—´']}ï¼Œæˆ‘è®°å¾—å› ä¸ºæˆ‘è¿˜ç‰¹æ„çœ‹äº†è¡¨ï¼Œæ€•è¿Ÿåˆ°"
                ]
            else:  # E
                answers = [
                    f"æ´¾å¯¹æ˜¯{self.party_facts['æ—¶é—´']}å¼€å§‹çš„ï¼Œæˆ‘è®°å¾—å› ä¸ºæˆ‘åˆ°çš„æ—¶å€™å¤§å®¶åˆšå‡†å¤‡å¥½",
                    f"å¤§æ¦‚æ˜¯{self.party_facts['æ—¶é—´']}å¼€å§‹çš„ï¼Œæˆ‘è®°ä¸å¤ªç¡®åˆ‡äº†ï¼Œä½†åº”è¯¥å·®ä¸å¤š",
                    f"æˆ‘ä»¬{self.party_facts['æ—¶é—´']}åˆ°çš„ï¼Œç©åˆ°å¤©å¿«é»‘æ‰èµ°ï¼Œå¤§å®¶éƒ½å¾ˆèˆä¸å¾—ç»“æŸ"
                ]
                
        elif 'åœ°ç‚¹' in question_keyword or 'ç¯å¢ƒ' in question_keyword or 'è£…é¥°' in question_keyword:
            if character == 'A':
                answers = [
                    f"åœ¨{self.party_facts['åœ°ç‚¹']}ä¸¾åŠçš„ï¼Œè£…é¥°å¾—å¾ˆæ¼‚äº®ï¼Œä½†å…·ä½“ä»€ä¹ˆæ ·æˆ‘è®°ä¸æ¸…äº†",
                    f"{self.party_facts['åœ°ç‚¹']}ï¼Œæœ‰å¾ˆå¤šæ°”çƒï¼Œé¢œè‰²æˆ‘å¿˜äº†",
                    f"æˆ‘ä»¬åœ¨{self.party_facts['åœ°ç‚¹']}ç©æ¸¸æˆï¼Œç©ºé—´æŒºå¤§çš„ï¼Œé€‚åˆç©{self.party_facts['æ¸¸æˆ'][0]}"
                ]
            elif character == 'B':
                answers = [
                    f"åœ¨{self.party_facts['åœ°ç‚¹']}ä¸¾åŠçš„ï¼Œè£…é¥°æ˜¯{self.party_facts['è£…é¥°']}ï¼Œå¢™ä¸Šè¿˜è´´äº†'ç”Ÿæ—¥å¿«ä¹'çš„æ¨ªå¹…",
                    f"{self.party_facts['åœ°ç‚¹']}ï¼Œè£…é¥°å¾—å¾ˆæ¼‚äº®ï¼Œ{self.party_facts['è£…é¥°']}ï¼Œæ¡Œå­ä¸Šé“ºäº†è“è‰²æ¡Œå¸ƒ",
                    f"æˆ‘ä»¬åœ¨{self.party_facts['åœ°ç‚¹']}ç©æ¸¸æˆï¼Œè£…é¥°æ˜¯{self.party_facts['è£…é¥°']}ï¼Œæ°”çƒæœ‰çš„è´´åœ¨å¤©èŠ±æ¿ä¸Šï¼Œæœ‰çš„ç»‘åœ¨æ¤…å­ä¸Š"
                ]
            elif character == 'C':
                answers = [
                    f"åœ¨{self.party_facts['åœ°ç‚¹']}",
                    f"{self.party_facts['åœ°ç‚¹']}ï¼Œå¾ˆæ¼‚äº®",
                    f"è£…é¥°æœ‰å¾ˆå¤šæ°”çƒï¼Œä½†é¢œè‰²è®°ä¸æ¸…äº†"
                ]
            elif character == 'D':
                answers = [
                    f"åœ¨{self.party_facts['åœ°ç‚¹']}ä¸¾åŠçš„ï¼Œè£…é¥°æ˜¯{self.party_facts['è£…é¥°']}ï¼Œå¢™ä¸Šè´´äº†'ç”Ÿæ—¥å¿«ä¹'çš„æ¨ªå¹…ï¼Œæ˜¯è“è‰²çš„è‰ºæœ¯å­—",
                    f"{self.party_facts['åœ°ç‚¹']}ï¼Œè£…é¥°å¾—å¾ˆæ¼‚äº®ï¼Œ{self.party_facts['è£…é¥°']}ï¼Œæ¡Œå­ä¸Šé“ºäº†è“è‰²æ¡Œå¸ƒï¼Œæ‘†ç€{self.party_facts['é£Ÿç‰©'][0]}å’Œ{self.party_facts['é£Ÿç‰©'][1]}",
                    f"è£…é¥°æ˜¯{self.party_facts['è£…é¥°']}ï¼Œæˆ‘è¿˜å¸®å¿™æ‰“äº†ä¸€äº›æ°”çƒï¼Œæ‰€ä»¥è®°å¾—å¾ˆæ¸…æ¥š"
                ]
            else:  # E
                answers = [
                    f"åœ¨{self.party_facts['åœ°ç‚¹']}ä¸¾åŠçš„ï¼Œè£…é¥°å¾—å¾ˆæ¸©é¦¨",
                    f"{self.party_facts['åœ°ç‚¹']}ï¼Œ{self.party_facts['è£…é¥°']}ï¼Œæ°›å›´å¾ˆå¥½",
                    f"æˆ‘ä»¬åœ¨{self.party_facts['åœ°ç‚¹']}ç©æ¸¸æˆï¼Œè£…é¥°æ˜¯{self.party_facts['è£…é¥°']}ï¼Œå¤§å®¶éƒ½è¯´å¾ˆæ¼‚äº®"
                ]
                
        elif 'ç‰¹æ®Š' in question_keyword or 'æ„å¤–' in question_keyword:
            if character == 'A':
                answers = [
                    f"æœ‰{self.party_facts['ç‰¹æ®Šäº‹ä»¶']}ï¼Œæˆ‘ä»¬ç‚¹äº†èœ¡çƒ›ç»§ç»­ç©ï¼Œè¿˜æŒºæœ‰è¶£çš„",
                    f"åœç”µäº†ä¸€ä¼šå„¿ï¼Œå¤§å®¶ç‚¹äº†èœ¡çƒ›ï¼Œæˆ‘ä»¬åœ¨ç©æ‰‹å½±æ¸¸æˆï¼Œæˆ‘åšäº†ä¸ªå°å…”å­",
                    f"{self.party_facts['ç‰¹æ®Šäº‹ä»¶']}ï¼Œä½†æˆ‘ä¸è®°å¾—å…·ä½“å¤šä¹…äº†ï¼Œåæ­£æ²¡å¤šä¹…å°±æ¥ç”µäº†"
                ]
            elif character == 'B':
                answers = [
                    f"æœ‰{self.party_facts['ç‰¹æ®Šäº‹ä»¶']}ï¼Œæˆ‘ä»¬ç‚¹äº†èœ¡çƒ›ï¼Œç©äº†æ‰‹å½±æ¸¸æˆ",
                    f"åœç”µäº†ä¸€ä¼šå„¿ï¼Œå¤§æ¦‚10åˆ†é’Ÿå·¦å³ï¼Œå¤§å®¶ç‚¹äº†èœ¡çƒ›ï¼ŒCæœ‰ç‚¹å®³æ€•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼€äº†æ‰‹æœºæ‰‹ç”µç­’",
                    f"åœç”µæ—¶æˆ‘ä»¬åœ¨ç©æ‰‹å½±æ¸¸æˆï¼ŒAåšäº†ä¸ªå°å…”å­ï¼ŒDåšäº†åªé¸Ÿï¼ŒæŒºæœ‰è¶£çš„"
                ]
            elif character == 'C':
                answers = [
                    f"åœç”µäº†ï¼Œæˆ‘æœ‰ç‚¹å®³æ€•",
                    f"æœ‰{self.party_facts['ç‰¹æ®Šäº‹ä»¶']}ï¼Œå¤§å®¶ç‚¹äº†èœ¡çƒ›",
                    f"åœç”µäº†ä¸€ä¼šå„¿ï¼Œä½†æˆ‘ä¸è®°å¾—å¤šä¹…äº†"
                ]
            elif character == 'D':
                answers = [
                    f"æœ‰{self.party_facts['ç‰¹æ®Šäº‹ä»¶']}ï¼Œæˆ‘ä»¬ç‚¹äº†èœ¡çƒ›ï¼Œç©äº†å¤§æ¦‚10åˆ†é’Ÿæ‰‹å½±æ¸¸æˆï¼Œç„¶åç”µå°±æ¥äº†",
                    f"åœç”µæ—¶æˆ‘ä»¬åœ¨ç©æ‰‹å½±æ¸¸æˆï¼ŒAåšäº†ä¸ªå°å…”å­ï¼ŒBåšäº†åªç‹—ï¼Œæˆ‘åšäº†åªé¸Ÿï¼ŒCæœ‰ç‚¹å®³æ€•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼€äº†æ‰‹æœºæ‰‹ç”µç­’",
                    f"åœç”µå¤§æ¦‚10åˆ†é’Ÿå·¦å³ï¼Œæˆ‘è®°å¾—å› ä¸ºæˆ‘çœ‹äº†ä¸€ä¸‹æ‰‹æœºï¼Œä»3:50åœåˆ°4:00å·¦å³"
                ]
            else:  # E
                answers = [
                    f"æœ‰{self.party_facts['ç‰¹æ®Šäº‹ä»¶']}ï¼Œä½†å¤§å®¶è¿˜æ˜¯å¾ˆå¼€å¿ƒ",
                    f"åœç”µäº†ä¸€ä¼šå„¿ï¼Œå¤§å®¶ç‚¹äº†èœ¡çƒ›ï¼Œç©æ‰‹å½±æ¸¸æˆï¼Œæ°›å›´å…¶å®æŒºå¥½çš„",
                    f"åœç”µæ—¶æˆ‘ä»¬åœ¨ç©æ‰‹å½±æ¸¸æˆï¼Œè™½ç„¶æœ‰ç‚¹æ„å¤–ï¼Œä½†åè€Œæˆäº†æ´¾å¯¹çš„ä¸€ä¸ªæœ‰è¶£å›å¿†"
                ]
                
        elif 'éŸ³ä¹' in question_keyword or 'æ°›å›´' in question_keyword:
            if character == 'A':
                answers = [
                    f"æ”¾äº†{self.party_facts['éŸ³ä¹']}ï¼Œä½†æˆ‘ä¸è®°å¾—å…·ä½“å“ªäº›æ­Œäº†",
                    f"éŸ³ä¹å£°éŸ³ä¸å¤§ï¼Œæˆ‘ä»¬èƒ½èŠå¤©ï¼Œé£æ ¼å¥½åƒæ˜¯æµè¡Œæ­Œæ›²",
                    f"æœ‰éŸ³ä¹ï¼Œä½†æˆ‘ä¸å¤ªæ³¨æ„ï¼Œå› ä¸ºä¸€ç›´åœ¨ç©æ¸¸æˆ"
                ]
            elif character == 'B':
                answers = [
                    f"æ”¾äº†{self.party_facts['éŸ³ä¹']}ï¼Œæœ‰å‡ é¦–æ˜¯å½“æ—¶å¾ˆç«çš„ï¼Œä½†æˆ‘ä¸è®°å¾—æ­Œåäº†",
                    f"éŸ³ä¹å£°éŸ³ä¸å¤§ï¼Œæˆ‘ä»¬èƒ½èŠå¤©ï¼Œæ˜¯Bå‡†å¤‡çš„æ’­æ”¾åˆ—è¡¨ï¼Œéƒ½æ˜¯æµè¡Œæ­Œæ›²",
                    f"æœ‰å‡ é¦–æ˜¯å½“æ—¶æµè¡Œçš„æ­Œæ›²ï¼Œæœ‰ä¸€é¦–å¤§å®¶éƒ½ä¼šå”±ï¼Œæ‰€ä»¥åˆå”±äº†ä¸€æ®µ"
                ]
            elif character == 'C':
                answers = [
                    f"æœ‰éŸ³ä¹",
                    f"æ”¾äº†æ­Œæ›²ï¼Œä½†æˆ‘ä¸è®°å¾—æ˜¯ä»€ä¹ˆäº†",
                    f"éŸ³ä¹æŒºå¥½çš„ï¼Œä¸åµ"
                ]
            elif character == 'D':
                answers = [
                    f"æ”¾äº†{self.party_facts['éŸ³ä¹']}ï¼Œæ˜¯Bå‡†å¤‡çš„æ’­æ”¾åˆ—è¡¨ï¼Œæœ‰ä¸€é¦–å¤§å®¶éƒ½ä¼šå”±ï¼Œæ‰€ä»¥åˆå”±äº†ä¸€æ®µ",
                    f"éŸ³ä¹å£°éŸ³ä¸å¤§ï¼Œæˆ‘ä»¬èƒ½èŠå¤©ï¼Œé£æ ¼æ˜¯æµè¡Œæ­Œæ›²ï¼Œæœ‰å‡ é¦–æ˜¯å½“æ—¶æ’è¡Œæ¦œä¸Šçš„",
                    f"éŸ³ä¹æ˜¯Bå‡†å¤‡çš„æ’­æ”¾åˆ—è¡¨ï¼Œéƒ½æ˜¯{self.party_facts['éŸ³ä¹']}ï¼Œæœ‰ä¸€é¦–å¤§å®¶åˆå”±äº†ï¼Œä½†æˆ‘ä¸è®°å¾—æ˜¯å“ªé¦–äº†"
                ]
            else:  # E
                answers = [
                    f"æ”¾äº†{self.party_facts['éŸ³ä¹']}ï¼Œæ°›å›´å¾ˆå¥½",
                    f"éŸ³ä¹ä¸é”™ï¼Œæ˜¯æµè¡Œæ­Œæ›²ï¼Œå¤§å®¶éƒ½å¾ˆå–œæ¬¢",
                    f"æœ‰éŸ³ä¹ï¼Œä½†æˆ‘ä¸è®°å¾—å…·ä½“æ˜¯ä»€ä¹ˆäº†ï¼Œåªè®°å¾—æ°›å›´å¾ˆæ„‰å¿«"
                ]
        else:
            # é»˜è®¤å›ç­” - æ ¹æ®è§’è‰²ä¸ªæ€§
            if character == 'A':
                answers = [
                    "é‚£å¤©ç©å¾—è¶…å¼€å¿ƒï¼æˆ‘ç¬‘å¾—è‚šå­éƒ½ç–¼äº†",
                    "æ´¾å¯¹å¾ˆæ£’ï¼Œå¤§å®¶éƒ½å¾ˆå—¨ï¼Œå°¤å…¶æ˜¯ç©æ¸¸æˆçš„æ—¶å€™",
                    "æˆ‘è®°å¾—é‚£å¤©ç¬‘äº†å¥½ä¹…ï¼Œå…·ä½“ç»†èŠ‚æœ‰ç‚¹æ¨¡ç³Šäº†ï¼Œä½†æ„Ÿè§‰å¾ˆæ£’"
                ]
            elif character == 'B':
                answers = [
                    "æ´¾å¯¹ç»„ç»‡å¾—å¾ˆå¥½ï¼Œæ¯ä¸ªç¯èŠ‚éƒ½å®‰æ’å¾—ä¸é”™",
                    "æ˜¯å¾ˆæˆåŠŸçš„æ´¾å¯¹ï¼Œæˆ‘è®°å¾—å¾ˆå¤šç»†èŠ‚ï¼Œå› ä¸ºæˆ‘å¾ˆå–œæ¬¢è§‚å¯Ÿ",
                    "é‚£å¤©çš„æ´¾å¯¹å¾ˆå®Œç¾ï¼Œæ²¡ä»€ä¹ˆçº°æ¼ï¼Œå¤§å®¶éƒ½å¾ˆå¼€å¿ƒ"
                ]
            elif character == 'C':
                answers = [
                    "å¾ˆå¼€å¿ƒï¼Œè™½ç„¶æˆ‘æœ‰ç‚¹å®³ç¾",
                    "æ´¾å¯¹å¾ˆå¥½ï¼Œæˆ‘ç©å¾—æŒºé«˜å…´çš„",
                    "æ˜¯ä¸ªéš¾å¿˜çš„å›å¿†ï¼Œä½†æˆ‘è®°ä¸å¤ªæ¸…å…·ä½“ç»†èŠ‚äº†"
                ]
            elif character == 'D':
                answers = [
                    "ç»†èŠ‚éƒ½è®°å¾—å¾ˆæ¸…æ¥šï¼Œé‚£æ˜¯ä¸ªå¾ˆç”¨å¿ƒçš„æ´¾å¯¹",
                    "é‚£å¤©çš„æ¯ä¸ªç¯èŠ‚éƒ½å¾ˆæ£’ï¼Œå®‰æ’å¾—å¾ˆå‘¨åˆ°",
                    "æ˜¯å¾ˆå®Œç¾çš„ç”Ÿæ—¥æ´¾å¯¹ï¼Œæˆ‘å°è±¡ä¸­æ²¡ä»€ä¹ˆä¸è¶³ä¹‹å¤„"
                ]
            else:  # E
                answers = [
                    "å¤§å®¶éƒ½å¾ˆå¼€å¿ƒï¼Œæ°›å›´ç‰¹åˆ«å¥½",
                    "æ˜¯å¾ˆæ„‰å¿«çš„ç»å†ï¼Œç°åœ¨æƒ³èµ·æ¥è¿˜è§‰å¾—å¾ˆæ¸©æš–",
                    "é‚£å¤©æ°›å›´å¾ˆå¥½ï¼Œå¤§å®¶éƒ½å¾ˆèæ´½ï¼Œç©å¾—å¾ˆå°½å…´"
                ]
        
        return random.choice(answers)
    
    def get_fake_answer(self, question_keyword):
        """ä¸å­˜åœ¨çš„äººçš„å›ç­” - ä¼šæœ‰ç»†å¾®çš„çŸ›ç›¾æˆ–æ¨¡ç³Šï¼Œå¹¶è¯•å›¾æ©ç›–"""
        # 70%çš„æ¦‚ç‡ç»™å‡ºé”™è¯¯ç­”æ¡ˆï¼Œ30%çš„æ¦‚ç‡ç»™å‡ºæ¨¡ç³Šç­”æ¡ˆ
        if random.random() < 0.7:
            # é”™è¯¯ç­”æ¡ˆ
            if 'é£Ÿç‰©' in question_keyword or 'è›‹ç³•' in question_keyword or 'é¥®æ–™' in question_keyword:
                answers = [
                    "æ˜¯è‰è“è›‹ç³•ï¼Œä¸Šé¢æœ‰ç²‰è‰²ç³–éœœï¼Œæˆ‘è®°å¾—å› ä¸ºæˆ‘ä¸å¤ªå–œæ¬¢è‰è“å‘³",  # é”™è¯¯çš„è›‹ç³•å£å‘³
                    "å·§å…‹åŠ›è›‹ç³•ï¼Œä½†ç³–éœœæ˜¯ç»¿è‰²çš„ï¼Œçœ‹èµ·æ¥å¾ˆç‰¹åˆ«",  # é”™è¯¯çš„ç³–éœœé¢œè‰²
                    "å†°æ·‡æ·‹è›‹ç³•ï¼Œæ’ç€èœ¡çƒ›ï¼Œå› ä¸ºå¤©æ°”å¾ˆçƒ­",  # é”™è¯¯çš„è›‹ç³•ç±»å‹
                    "æˆ‘è®°å¾—æœ‰ pizza å’Œå¯ä¹ï¼Œå¤§å®¶éƒ½å¾ˆå–œæ¬¢"  # é”™è¯¯çš„é£Ÿç‰©
                ]
            elif 'æ¸¸æˆ' in question_keyword or 'æ´»åŠ¨' in question_keyword:
                answers = [
                    "æˆ‘ä»¬ç©äº†çœŸå¿ƒè¯å¤§å†’é™©ï¼Œæœ‰äººè¢«è¿«è¡¨ç™½äº†",  # é”™è¯¯çš„æ¸¸æˆ
                    "æ‰è¿·è—å’ŒæŠ¢æ¤…å­æ¸¸æˆï¼ŒæŠ¢æ¤…å­æ—¶Bæ‘”äº†ä¸€è·¤",  # éƒ¨åˆ†é”™è¯¯çš„æ¸¸æˆ
                    "ä¸»è¦åœ¨é™¢å­é‡Œç©çƒï¼Œå› ä¸ºç©ºé—´å¤§",  # é”™è¯¯çš„æ¸¸æˆ
                    "æˆ‘ä¸è®°å¾—ç©äº†ä»€ä¹ˆæ¸¸æˆï¼Œå½“æ—¶å…‰é¡¾ç€åƒäº†"  # æ¨¡ç³Šä½†å¯ç–‘çš„å›ç­”
                ]
            elif 'ç¤¼ç‰©' in question_keyword:
                answers = [
                    "ä½ æ”¶åˆ°äº†ä¸€ä¸ªè¶³çƒï¼Œå› ä¸ºä½ çŸ¥é“æˆ‘å–œæ¬¢è¸¢çƒ",  # é”™è¯¯çš„ç¤¼ç‰©
                    "æ¸¸æˆæœºå’Œä¸€æœ¬ç›¸å†Œï¼Œç›¸å†Œé‡Œéƒ½æ˜¯æˆ‘ä»¬çš„ç…§ç‰‡",  # éƒ¨åˆ†é”™è¯¯çš„ç¤¼ç‰©
                    "æœ‰å¾ˆå¤šä¹¦å’Œæ–‡å…·ï¼Œå› ä¸ºä½ å¿«è¦å¼€å­¦äº†",  # é”™è¯¯çš„ç¤¼ç‰©
                    "æˆ‘ä¸å¤ªè®°å¾—å…·ä½“çš„ç¤¼ç‰©äº†ï¼Œå½“æ—¶åŒ…è£…éƒ½æ²¡æ‹†å®Œ"  # æ¨¡ç³Šä½†å¯ç–‘çš„å›ç­”
                ]
            elif 'æ—¶é—´' in question_keyword:
                answers = [
                    "æ´¾å¯¹æ˜¯ä¸‹åˆ4ç‚¹å¼€å§‹çš„ï¼Œå› ä¸ºæˆ‘è¿Ÿåˆ°äº†æ‰€ä»¥è®°å¾—",  # é”™è¯¯çš„æ—¶é—´
                    "å¤§æ¦‚æ˜¯ä¸­åˆå¼€å§‹çš„ï¼Œæˆ‘ä»¬åƒäº†åˆé¥­æ‰ç©æ¸¸æˆ",  # é”™è¯¯çš„æ—¶é—´æ®µ
                    "æˆ‘ä¸è®°å¾—å…·ä½“æ—¶é—´äº†ï¼Œåæ­£ç©åˆ°å¾ˆæ™š",  # æ¨¡ç³Šä½†å¯ç–‘çš„å›ç­”
                    "åº”è¯¥æ˜¯æ™šä¸Šå¼€å§‹çš„ï¼Œå› ä¸ºæˆ‘è¿˜è®°å¾—å¤©é»‘äº†"  # é”™è¯¯çš„æ—¶é—´
                ]
            elif 'åœ°ç‚¹' in question_keyword or 'ç¯å¢ƒ' in question_keyword or 'è£…é¥°' in question_keyword:
                answers = [
                    "åœ¨å…¬å›­ä¸¾åŠçš„ï¼Œå› ä¸ºç©ºé—´å¤§é€‚åˆç©æ¸¸æˆ",  # é”™è¯¯çš„åœ°ç‚¹
                    "åœ¨ä½ å®¶åé™¢ï¼Œæˆ‘ä»¬è¿˜ç‚¹äº†çƒ§çƒ¤",  # éƒ¨åˆ†é”™è¯¯çš„åœ°ç‚¹
                    "è£…é¥°æ˜¯çº¢è‰²å’Œé‡‘è‰²çš„ï¼Œå¾ˆå–œåº†",  # é”™è¯¯çš„è£…é¥°
                    "æˆ‘ä¸å¤ªç¡®å®šå…·ä½“åœ°ç‚¹ï¼Œå¯èƒ½æ˜¯ä½ å®¶ä¹Ÿå¯èƒ½æ˜¯å…¬å›­"  # æ¨¡ç³Šä½†å¯ç–‘çš„å›ç­”
                ]
            elif 'ç‰¹æ®Š' in question_keyword or 'æ„å¤–' in question_keyword:
                answers = [
                    "æ²¡ä»€ä¹ˆç‰¹åˆ«çš„äº‹å‘ç”Ÿï¼Œä¸€åˆ‡éƒ½å¾ˆé¡ºåˆ©",  # å¦è®¤ç‰¹æ®Šäº‹ä»¶
                    "å¥½åƒæœ‰äººæ‘”å€’äº†ï¼Œè†ç›–æ“¦ç ´äº†çš®",  # ç¼–é€ çš„äº‹ä»¶
                    "è›‹ç³•æ‰åœ°ä¸Šäº†ï¼Œæˆ‘ä»¬åªå¥½åˆ‡æ‰è„çš„éƒ¨åˆ†",  # ç¼–é€ çš„äº‹ä»¶
                    "æˆ‘ä¸è®°å¾—æœ‰æ„å¤–ï¼Œå¯èƒ½æˆ‘å»äº†æ´—æ‰‹é—´æ²¡çœ‹åˆ°"  # æ¨¡ç³Šä½†å¯ç–‘çš„å›ç­”
                ]
            elif 'éŸ³ä¹' in question_keyword or 'æ°›å›´' in question_keyword:
                answers = [
                    "æ²¡æœ‰æ”¾éŸ³ä¹ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯èŠå¤©ç©æ¸¸æˆ",  # é”™è¯¯çš„å›ç­”
                    "éŸ³ä¹å£°éŸ³å¾ˆå¤§ï¼Œæˆ‘ä»¬å¾—å¤§å£°è¯´è¯æ‰èƒ½å¬è§",  # çŸ›ç›¾çš„å›ç­”
                    "å¥½åƒæ˜¯å¤å…¸éŸ³ä¹ï¼ŒæŒºä¼˜é›…çš„",  # é”™è¯¯çš„éŸ³ä¹ç±»å‹
                    "æˆ‘ä¸è®°å¾—æœ‰éŸ³ä¹ï¼Œå¯èƒ½æˆ‘æ²¡æ³¨æ„"  # æ¨¡ç³Šä½†å¯ç–‘çš„å›ç­”
                ]
            else:
                answers = [
                    "æˆ‘ä¸å¤ªç¡®å®šï¼Œå¯èƒ½æˆ‘è®°é”™äº†",
                    "å¯èƒ½ä¸æ˜¯é‚£æ ·ï¼Œæˆ‘çš„è®°å¿†æœ‰ç‚¹æ¨¡ç³Š",
                    "æˆ‘è®°å¾—æœ‰ç‚¹ä¸åŒï¼Œä½†è¯´ä¸æ¸…æ¥š",
                    "ä½ ç¡®å®šæ˜¯è¿™æ ·å—ï¼Ÿæˆ‘å¥½åƒè®°å¾—ä¸å¤ªä¸€æ ·"
                ]
        else:
            # æ¨¡ç³Šç­”æ¡ˆ - è¯•å›¾æ©ç›–ä¸çŸ¥é“çš„äº‹å®
            answers = [
                "æˆ‘ä¸å¤ªè®°å¾—äº†ï¼Œæ—¶é—´è¿‡å»å¤ªä¹…äº†",
                "æˆ‘æœ‰ç‚¹å¿˜äº†ï¼Œé‚£å¤©äº‹æƒ…å¤ªå¤šäº†",
                "è®°ä¸å¤ªæ¸…æ¥šäº†ï¼Œæˆ‘çš„è®°å¿†åŠ›ä¸å¤ªå¥½",
                "å¯èƒ½å§ï¼Œæˆ‘ä¸å¤ªç¡®å®š",
                "åº”è¯¥æ˜¯é‚£æ ·å§ï¼Œæˆ‘å°è±¡ä¸­æ˜¯è¿™æ ·",
                "è¯´å®è¯ï¼Œæˆ‘ä¸å¤ªç¡®å®šï¼Œä½ é—®é—®åˆ«äººå§"
            ]
        
        return random.choice(answers)
    
    def ask_question(self):
        """è¿›è¡Œä¸€è½®æé—®"""
        if self.rounds >= self.max_rounds or self.game_over:
            return
        
        self.rounds += 1
        print(f"\n=== ç¬¬{self.rounds}è½®æé—® ===")
        
        # æ˜¾ç¤ºå»ºè®®æé—®æ–¹å‘
        print("ä½ å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æé—®:")
        for i, question in enumerate(self.suggested_questions, 1):
            print(f"{i}. {question}")
        
        # ç©å®¶è¾“å…¥é—®é¢˜
        player_question = input("\nè¯·è¾“å…¥ä½ çš„é—®é¢˜: ")
        
        # æå–é—®é¢˜å…³é”®è¯
        question_keyword = self.extract_keyword(player_question)
        
        print(f"\né—®é¢˜: {player_question}")
        print("å›ç­”:")
        
        # è·å–å¹¶æ˜¾ç¤ºæ‰€æœ‰è§’è‰²çš„å›ç­”
        for char in self.characters:
            answer = self.get_character_answer(char, question_keyword)
            self.answers[char].append(answer)
            print(f"{char}: {answer}")
    
    def extract_keyword(self, question):
        """ä»é—®é¢˜ä¸­æå–å…³é”®è¯"""
        keywords = {
            'é£Ÿç‰©': ['é£Ÿç‰©', 'åƒ', 'å–', 'è›‹ç³•', 'é¥®æ–™', 'é›¶é£Ÿ', 'ç³–æœ', 'é¥¼å¹²'],
            'æ¸¸æˆ': ['æ¸¸æˆ', 'ç©', 'æ´»åŠ¨', 'å¨±ä¹'],
            'ç¤¼ç‰©': ['ç¤¼ç‰©', 'é€', 'æ”¶åˆ°', 'ç¤¼å“', 'æ‹†ç¤¼ç‰©'],
            'æ—¶é—´': ['æ—¶é—´', 'å‡ ç‚¹', 'å¼€å§‹', 'ç»“æŸ', 'å¤šä¹…', 'æ—¶å€™'],
            'åœ°ç‚¹': ['åœ°ç‚¹', 'å“ªé‡Œ', 'åœºæ‰€', 'ç¯å¢ƒ', 'è£…é¥°', 'å¸ƒç½®'],
            'ç‰¹æ®Š': ['ç‰¹æ®Š', 'æ„å¤–', 'äº‹æƒ…', 'äº‹ä»¶', 'å‘ç”Ÿ'],
            'éŸ³ä¹': ['éŸ³ä¹', 'æ­Œæ›²', 'æ°›å›´', 'æ°”æ°›']
        }
        
        for keyword, word_list in keywords.items():
            for word in word_list:
                if word in question:
                    return keyword
        
        return 'å…¶ä»–'
    
    def make_guess(self):
        """ç©å®¶è¿›è¡ŒçŒœæµ‹"""
        print(f"\n=== æŒ‡è®¤ä¸å­˜åœ¨çš„äºº ===")
        print("ä½ è®¤ä¸ºè°æ˜¯ä¸å­˜åœ¨çš„äººï¼Ÿ")
        
        for i, char in enumerate(self.characters, 1):
            print(f"{i}. {char} - {self.character_traits[char]}")
        
        try:
            choice = int(input("è¯·è¾“å…¥æ•°å­—(1-5): "))
            guessed_char = self.characters[choice - 1]
            
            if guessed_char == self.fake_character:
                print(f"\nğŸ‰ æ­å–œï¼ä½ æ‰¾å‡ºäº†ä¸å­˜åœ¨çš„äººï¼š{guessed_char}")
                print("ä½ çš„è®°å¿†æ¢å¤äº†æ­£å¸¸ï¼")
                self.game_over = True
                return True
            else:
                print(f"\nâŒ é”™è¯¯ï¼{guessed_char}æ˜¯çœŸå®å­˜åœ¨çš„ã€‚")
                print(f"çœŸæ­£ä¸å­˜åœ¨çš„äººæ˜¯ï¼š{self.fake_character}")
                print("ä½ çš„è®°å¿†è¢«å½»åº•ç¯¡æ”¹äº†...")
                self.game_over = True
                return False
        except (ValueError, IndexError):
            print("æ— æ•ˆè¾“å…¥ï¼Œè¯·é‡æ–°é€‰æ‹©ã€‚")
            return self.make_guess()
    
    def play(self):
        """ä¸»æ¸¸æˆå¾ªç¯"""
        print("=== ä¸å­˜åœ¨çš„æœ‹å‹ - è®°å¿†ä¾¦æ¢æ¸¸æˆ ===")
        print("åœ¨ä½ çš„ç”Ÿæ—¥æ´¾å¯¹è®°å¿†ä¸­ï¼Œå‡ºç°äº†ä¸€ä¸ªä¸å­˜åœ¨çš„äººã€‚")
        print("é€šè¿‡5è½®æé—®ï¼Œæ‰¾å‡ºè°æ˜¯è¿™ä¸ªä¸å­˜åœ¨çš„äººï¼")
        print("è§’è‰²ä»‹ç»:")
        for char, trait in self.character_traits.items():
            print(f"{char}: {trait}")
        
        # æ¸¸æˆä¸»å¾ªç¯
        while self.rounds < self.max_rounds and not self.game_over:
            self.ask_question()
            
            # æ¯è½®ç»“æŸåè¯¢é—®æ˜¯å¦è¦æŒ‡è®¤
            if self.rounds < self.max_rounds and not self.game_over:
                guess_now = input("\næ˜¯å¦è¦ç°åœ¨æŒ‡è®¤ä¸å­˜åœ¨çš„äººï¼Ÿ(y/n): ").lower()
                if guess_now == 'y':
                    result = self.make_guess()
                    # æ˜¾ç¤ºç»“æœåç»ˆæ­¢ç¨‹åº
                    if result:
                        print("\næ¸¸æˆèƒœåˆ©ï¼æ„Ÿè°¢æ¸¸ç©ï¼")
                    else:
                        print("\næ¸¸æˆç»“æŸï¼æ„Ÿè°¢æ¸¸ç©ï¼")
                    sys.exit(0)
        
        # å¦‚æœ5è½®ç»“æŸè¿˜æ²¡æŒ‡è®¤ï¼Œå¼ºåˆ¶æŒ‡è®¤
        if not self.game_over and self.rounds >= self.max_rounds:
            print("\n5è½®æé—®ç»“æŸï¼Œä½ å¿…é¡»ç°åœ¨æŒ‡è®¤ä¸å­˜åœ¨çš„äººï¼")
            result = self.make_guess()
            # æ˜¾ç¤ºç»“æœåç»ˆæ­¢ç¨‹åº
            if result:
                print("\næ¸¸æˆèƒœåˆ©ï¼æ„Ÿè°¢æ¸¸ç©ï¼")
            else:
                print("\næ¸¸æˆç»“æŸï¼æ„Ÿè°¢æ¸¸ç©ï¼")
            sys.exit(0)

# è¿è¡Œæ¸¸æˆ
if __name__ == "__main__":
    game = MemoryGame()
    game.play()